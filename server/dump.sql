PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE `Users` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `email` VARCHAR(255) NOT NULL UNIQUE, `displayName` VARCHAR(255) NOT NULL, `password` VARCHAR(255) NOT NULL, `profileImage` VARCHAR(255), `isAdmin` TINYINT(1) DEFAULT 0, `requestedContributor` TINYINT(1) DEFAULT 0, `lastLogin` DATETIME, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
INSERT INTO Users VALUES(1,'tkpat3@gmail.com','Patrick DcN','$2a$10$ju9/xUw.9UEZoTIdUrnHXOnELsVuFcgXDgrVgbcGQlY3ZeNfGcOS6',NULL,1,0,'2025-12-11 06:41:25.786 +00:00','2025-12-11 06:40:34.727 +00:00','2025-12-11 06:41:25.786 +00:00');
INSERT INTO Users VALUES(2,'sizibapa3@gmail.com','TK','$2a$10$bZoE5SKXtCAcQT//Vy5gCu.koNoJIibZflkdgvTcqa92udsq.tnOC',NULL,0,1,'2025-12-12 05:52:00.780 +00:00','2025-12-11 07:05:45.869 +00:00','2025-12-12 05:52:00.782 +00:00');
CREATE TABLE `Comments` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `postId` INTEGER NOT NULL, `text` TEXT NOT NULL, `userId` INTEGER NOT NULL REFERENCES `Users` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
INSERT INTO Comments VALUES(1,1,'comment',1,'2025-12-11 06:42:12.832 +00:00','2025-12-11 06:42:12.832 +00:00');
INSERT INTO Comments VALUES(2,1,'powerful',1,'2025-12-11 06:50:26.469 +00:00','2025-12-11 06:50:26.469 +00:00');
INSERT INTO Comments VALUES(3,1,'comment wangu',2,'2025-12-12 06:04:51.216 +00:00','2025-12-12 06:04:51.216 +00:00');
CREATE TABLE `Reactions` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `postId` INTEGER NOT NULL, `reactionType` VARCHAR(255) NOT NULL, `userId` INTEGER NOT NULL REFERENCES `Users` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
INSERT INTO Reactions VALUES(5,1,'love',2,'2025-12-11 07:05:55.765 +00:00','2025-12-11 07:05:55.765 +00:00');
INSERT INTO Reactions VALUES(7,1,'love',1,'2025-12-12 06:06:00.831 +00:00','2025-12-12 06:06:00.831 +00:00');
CREATE TABLE `Posts` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `title` VARCHAR(255) NOT NULL, `excerpt` TEXT, `body` TEXT NOT NULL, `topic` VARCHAR(255), `part` VARCHAR(255), `climax` TEXT, `image` VARCHAR(255), `category` VARCHAR(255) NOT NULL DEFAULT 'devotional', `userId` INTEGER NOT NULL REFERENCES `Users` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `published` TINYINT(1) DEFAULT 1, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
INSERT INTO Posts VALUES(1,'test','nsns','sns',NULL,NULL,'sss','https://picsum.photos/800/450?random=620','devotional',1,1,'2025-12-11 06:41:46.659 +00:00','2025-12-11 06:41:46.659 +00:00');
PRAGMA writable_schema=ON;
CREATE TABLE IF NOT EXISTS sqlite_sequence(name,seq);
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('Users',2);
INSERT INTO sqlite_sequence VALUES('Posts',1);
INSERT INTO sqlite_sequence VALUES('Reactions',7);
INSERT INTO sqlite_sequence VALUES('Comments',3);
CREATE UNIQUE INDEX `unique_post_user_reaction` ON `Reactions` (`postId`, `userId`);
PRAGMA writable_schema=OFF;
COMMIT;
